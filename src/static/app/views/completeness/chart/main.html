<style>

  .close {
    padding:10px;
  }

  .completeness-charts {
    width:350px;
    transition:500ms linear width;
  }
  .completeness-charts.ng-enter {
    width:0;
    transition:500ms linear width;
  }

  /* The finishing CSS styles for the enter animation */
  .completeness-charts.ng-enter.ng-enter-active {
    width:350px;
    transition:1s linear width;
  }

  .completeness-charts.ng-leave {
    width:350px;
    transition:200ms linear width;
  }
  .completeness-charts.ng-leave.ng-leave-active {
    width:0;
    transition:200ms linear width;
  }

.chart-view { height: 200px; }
.chart-holder {
  position: relative;
  width: 100%;
  min-height: 200px;
}

.modal-body .row { margin: 0 0 20px 0; }
.region-data-holder { position: relative; min-height: 400px; height: 100%; }
.metric { position: relative; text-align: center; }
.metric-value {
  position: relative;
  border-radius: 50%;
  width: 70px;
  height: 70px;
  color: #fff;
  text-align: center;
  padding-top: 25px;
  margin: 0 auto;
}
.metric-value.slideup { position: relative; }
.metric-value-avi { background-color: #e74c3c; }
.metric-value-tsc { background-color: #2ecc71; }
.metric-value-tgc { background-color: #3498db; }
.metric-value-rank { background-color: #34495e; }

.map-colour-1 { background-color: #d73027; color: #fff; }
.map-colour-2 { background-color: #f79272; color: #fff; }
.map-colour-3 { background-color: #fed6b0; color: #fff; }
.map-colour-4 { background-color: #fff2cc; color: #666; }
.map-colour-5 { background-color: #d2ecb4; color: #666; }
.map-colour-6 { background-color: #8cce8a; color: #fff; }
.map-colour-7 { background-color: #1a9850; color: #fff; }

</style>
<div class="completeness-charts" ng-if="model.region && model.selectedMapTaxa">
  <i ui-sref="indicators.completeness" class="close fa fa-close pull-right"></i>
  <div class="modal-header">
    <h3 class="modal-title" id="modal-title">Statistics for {{ model.selectedMapTaxa.title }} in {{model.region.name}}</h3>
  </div>
  <div class="modal-body" id="modal-body">

    <div class="region-data-holder">

        <div class="metrics-holder slide" ng-if="model.chartMode == 1">

          <div class="row">

            <div class="col-xs-12 col-sm-4 metric">
              <div class="metric-value metric-value-avi">{{ model.metrics[0] }}</div>
              <h5>Average Completeness Value</h5>
              <span class="text-muted">More info</span>
            </div>

            <div class="col-xs-12 col-sm-4 metric">
              <div class="metric-value metric-value-tsc">{{ model.metrics[1] }}</div>
              <h5>Species Count</h5>
              <span class="text-muted">More info</span>
            </div>

            <div class="col-xs-12 col-sm-4 metric">
              <div class="metric-value metric-value-rank">{{ model.metrics[3] + " / " + model.metrics[4] }}</div>
              <h5>Rank</h5>
              <span class="text-muted">More info</span>
            </div>

          </div>


          <div class="chart-holder">
            <div class="row" ng-if="model.chartObject.data">
              <div google-chart chart="model.chartObject" class="chart-view"></div>
            </div>
          </div> <!-- chart-holder -->

          <div class="pull-right">
            <a class="small" href="#" ng-click="showModal()">View larger</a>
          </div>


        </div> <!-- metrics-holder -->


        <div class="slide" ng-if="model.chartMode == 0">
           <uib-progressbar class="progress-striped active" value="dynamic">
             Loading statistics. Please wait...
           </uib-progressbar>
        </div>

        <div class="slide" ng-if="model.chartMode == 2">
           <h4>No statistics for {{ model.selectedMapTaxa.title }} in {{model.region.name}}</h4>
           <p>Please select a different country or taxonomic group.</p>
        </div>


    </div> <!-- region-data-holder -->


  </div>
  <div class="modal-footer">
    <!--
    <button class="btn btn-primary" type="button" ng-click="$ctrl.reset()">Pick another country</button>
  -->
  </div>
</div>
